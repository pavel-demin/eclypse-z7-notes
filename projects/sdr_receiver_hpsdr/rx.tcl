# Create port_slicer
cell pavel-demin:user:port_slicer slice_0 {
  DIN_WIDTH 8 DIN_FROM 0 DIN_TO 0
}

# Create port_slicer
cell pavel-demin:user:port_slicer slice_1 {
  DIN_WIDTH 288 DIN_FROM 15 DIN_TO 0
}

for {set i 0} {$i <= 7} {incr i} {

  # Create port_slicer
  cell pavel-demin:user:port_slicer slice_[expr $i + 2] {
    DIN_WIDTH 288 DIN_FROM [expr $i + 16] DIN_TO [expr $i + 16]
  }

  # Create port_selector
  cell pavel-demin:user:port_selector selector_$i {
    DOUT_WIDTH 16
  } {
    cfg slice_[expr $i + 2]/dout
    din /adc_0/m_axis_tdata
  }

  # Create port_slicer
  cell pavel-demin:user:port_slicer slice_[expr $i + 10] {
    DIN_WIDTH 288 DIN_FROM [expr 32 * $i + 63] DIN_TO [expr 32 * $i + 32]
  }

  # Create axis_constant
  cell pavel-demin:user:axis_constant phase_$i {
    AXIS_TDATA_WIDTH 32
  } {
    cfg_data slice_[expr $i + 10]/dout
    aclk /pll_0/clk_out1
  }

  # Create dds_compiler
  cell xilinx.com:ip:dds_compiler dds_$i {
    DDS_CLOCK_RATE 100
    SPURIOUS_FREE_DYNAMIC_RANGE 138
    FREQUENCY_RESOLUTION 0.1
    PHASE_INCREMENT Streaming
    HAS_PHASE_OUT false
    PHASE_WIDTH 30
    OUTPUT_WIDTH 24
    DSP48_USE Minimal
    NEGATIVE_SINE true
  } {
    S_AXIS_PHASE phase_$i/M_AXIS
    aclk /pll_0/clk_out1
  }

}

# Create axis_lfsr
cell pavel-demin:user:axis_lfsr lfsr_0 {} {
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create xlconstant
cell xilinx.com:ip:xlconstant const_0

for {set i 0} {$i <= 15} {incr i} {

  # Create port_slicer
  cell pavel-demin:user:port_slicer dds_slice_$i {
    DIN_WIDTH 48 DIN_FROM [expr 24 * ($i % 2) + 23] DIN_TO [expr 24 * ($i % 2)]
  } {
    din dds_[expr $i / 2]/m_axis_data_tdata
  }

  # Create xbip_dsp48_macro
  cell xilinx.com:ip:xbip_dsp48_macro mult_$i {
    INSTRUCTION1 RNDSIMPLE(A*B+CARRYIN)
    A_WIDTH.VALUE_SRC USER
    B_WIDTH.VALUE_SRC USER
    OUTPUT_PROPERTIES User_Defined
    A_WIDTH 24
    B_WIDTH 14
    P_WIDTH 25
  } {
    A dds_slice_$i/dout
    B selector_[expr $i / 2]/dout
    CARRYIN lfsr_0/m_axis_tdata
    CLK /pll_0/clk_out1
  }

  # Create axis_variable
  cell pavel-demin:user:axis_variable rate_$i {
    AXIS_TDATA_WIDTH 16
  } {
    cfg_data slice_1/dout
    aclk /pll_0/clk_out1
    aresetn /rst_0/peripheral_aresetn
  }

  # Create cic_compiler
  cell xilinx.com:ip:cic_compiler cic_$i {
    INPUT_DATA_WIDTH.VALUE_SRC USER
    FILTER_TYPE Decimation
    NUMBER_OF_STAGES 6
    SAMPLE_RATE_CHANGES Programmable
    MINIMUM_RATE 250
    MAXIMUM_RATE 2000
    FIXED_OR_INITIAL_RATE 500
    INPUT_SAMPLE_FREQUENCY 100
    CLOCK_FREQUENCY 100
    INPUT_DATA_WIDTH 24
    QUANTIZATION Truncation
    OUTPUT_DATA_WIDTH 32
    USE_XTREME_DSP_SLICE false
    HAS_ARESETN true
  } {
    s_axis_data_tdata mult_$i/P
    s_axis_data_tvalid const_0/dout
    S_AXIS_CONFIG rate_$i/M_AXIS
    aclk /pll_0/clk_out1
    aresetn /rst_0/peripheral_aresetn
  }

}

# Create axis_combiner
cell  xilinx.com:ip:axis_combiner comb_0 {
  TDATA_NUM_BYTES.VALUE_SRC USER
  TDATA_NUM_BYTES 4
  NUM_SI 16
} {
  S00_AXIS cic_0/M_AXIS_DATA
  S01_AXIS cic_1/M_AXIS_DATA
  S02_AXIS cic_2/M_AXIS_DATA
  S03_AXIS cic_3/M_AXIS_DATA
  S04_AXIS cic_4/M_AXIS_DATA
  S05_AXIS cic_5/M_AXIS_DATA
  S06_AXIS cic_6/M_AXIS_DATA
  S07_AXIS cic_7/M_AXIS_DATA
  S08_AXIS cic_8/M_AXIS_DATA
  S09_AXIS cic_9/M_AXIS_DATA
  S10_AXIS cic_10/M_AXIS_DATA
  S11_AXIS cic_11/M_AXIS_DATA
  S12_AXIS cic_12/M_AXIS_DATA
  S13_AXIS cic_13/M_AXIS_DATA
  S14_AXIS cic_14/M_AXIS_DATA
  S15_AXIS cic_15/M_AXIS_DATA
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create axis_dwidth_converter
cell xilinx.com:ip:axis_dwidth_converter conv_0 {
  S_TDATA_NUM_BYTES.VALUE_SRC USER
  S_TDATA_NUM_BYTES 64
  M_TDATA_NUM_BYTES 4
} {
  S_AXIS comb_0/M_AXIS
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create fir_compiler
cell xilinx.com:ip:fir_compiler fir_0 {
  DATA_WIDTH.VALUE_SRC USER
  DATA_WIDTH 32
  COEFFICIENTVECTOR {-1.5956605232e-08, -1.4027210574e-08, -1.1469474085e-08, -8.2836180146e-09, -4.4848080991e-09, -1.0407677321e-10, 4.8110008357e-09, 1.0195908361e-08, 1.5969094293e-08, 2.2032206221e-08, 2.8270672406e-08, 3.4554644949e-08, 4.0740313387e-08, 4.6671591588e-08, 5.2182174508e-08, 5.7097954686e-08, 6.1239781454e-08, 6.4426538826e-08, 6.6478510946e-08, 6.7220997028e-08, 6.6488130959e-08, 6.4126854274e-08, 6.0000985295e-08, 5.3995321744e-08, 4.6019709490e-08, 3.6013006137e-08, 2.3946865196e-08, 9.8292645898e-09, -6.2922976469e-09, -2.4328017293e-08, -4.4143482806e-08, -6.5557931595e-08, -8.8343132082e-08, -1.1222295444e-07, -1.3687368619e-07, -1.6192514079e-07, -1.8696259810e-07, -2.1152960516e-07, -2.3513165443e-07, -2.5724074395e-07, -2.7730081109e-07, -2.9473401721e-07, -3.0894784686e-07, -3.1934296990e-07, -3.2532180081e-07, -3.2629767448e-07, -3.2170454392e-07, -3.1100709153e-07, -2.9371113275e-07, -2.6937417944e-07, -2.3761601956e-07, -1.9812916099e-07, -1.5068897995e-07, -9.5163409297e-08, -3.1521998405e-08, 4.0155824245e-08, 1.1967345374e-07, 2.0671094052e-07, 3.0082010894e-07, 4.0142111114e-07, 5.0780055343e-07, 6.1911131812e-07, 7.3437418709e-07, 8.5248135465e-07, 9.7220189568e-07, 1.0921892320e-06, 1.2109906146e-06, 1.3270586133e-06, 1.4387645756e-06, 1.5444139913e-06, 1.6422636642e-06, 1.7305405697e-06, 1.8074622400e-06, 1.8712584962e-06, 1.9201943142e-06, 1.9525935870e-06, 1.9668635208e-06, 1.9615193811e-06, 1.9352092825e-06, 1.8867387042e-06, 1.8150943962e-06, 1.7194673338e-06, 1.5992743742e-06, 1.4541782669e-06, 1.2841056739e-06, 1.0892628669e-06, 8.7014877882e-07, 6.2756510963e-07, 3.6262320741e-07, 7.6747475520e-08, -2.2832491072e-07, -5.5054815637e-07, -8.8757600555e-07, -1.2367739979e-06, -1.5952358658e-06, -1.9598040633e-06, -2.3270943647e-06, -2.6935244141e-06, -3.0553460519e-06, -3.4086811865e-06, -3.7495609242e-06, -4.0739676135e-06, -4.3778794099e-06, -4.6573169136e-06, -4.9083913879e-06, -5.1273540235e-06, -5.3106456767e-06, -5.4549464756e-06, -5.5572246687e-06, -5.6147840662e-06, -5.6253094176e-06, -5.5869090670e-06, -5.4981542305e-06, -5.3581142599e-06, -5.1663872742e-06, -4.9231255797e-06, -4.6290553358e-06, -4.2854899774e-06, -3.8943369612e-06, -3.4580974711e-06, -2.9798587931e-06, -2.4632791492e-06, -1.9125648688e-06, -1.3324398685e-06, -7.2810750670e-07, -1.0520498256e-07, 5.3024945391e-07, 1.1719161057e-06, 1.8131997731e-06, 2.4473214626e-06, 3.0673951871e-06, 3.6665090930e-06, 4.2378100594e-06, 4.7745908391e-06, 5.2703787377e-06, 5.7190247651e-06, 6.1147921466e-06, 6.4524430401e-06, 6.7273222820e-06, 6.9354369744e-06, 7.0735307280e-06, 7.1391513965e-06, 7.1307111696e-06, 7.0475379464e-06, 6.8899169725e-06, 6.6591218089e-06, 6.3574337970e-06, 5.9881492925e-06, 5.5555740719e-06, 5.0650044462e-06, 4.5226947708e-06, 3.9358111968e-06, 3.3123716776e-06, 2.6611724198e-06, 1.9917011434e-06, 1.3140377019e-06, 6.3874279225e-07, -2.3264333924e-08, -6.6083807074e-07, -1.2627473117e-06, -1.8178235389e-06, -2.3151145785e-06, -2.7440423186e-06, -3.0945625625e-06, -3.3573250902e-06, -3.5238319147e-06, -3.5865916620e-06, -3.5392679602e-06, -3.3768197153e-06, -3.0956311575e-06, -2.6936295845e-06, -2.1703887919e-06, -1.5272162734e-06, -7.6722239540e-07, 1.0463010362e-07, 1.0814977654e-06, 2.1546504936e-06, 3.3134891205e-06, 4.5455872726e-06, 5.8367580846e-06, 7.1711460306e-06, 8.5313438483e-06, 9.8985342262e-06, 1.1252655607e-05, 1.2572591147e-05, 1.3836379541e-05, 1.5021446129e-05, 1.6104852355e-05, 1.7063561385e-05, 1.7874717387e-05, 1.8515935714e-05, 1.8965600991e-05, 1.9203169893e-05, 1.9209475203e-05, 1.8967027605e-05, 1.8460311534e-05, 1.7676071333e-05, 1.6603583936e-05, 1.5234914303e-05, 1.3565149875e-05, 1.1592610425e-05, 9.3190298319e-06, 6.7497064845e-06, 3.8936192584e-06, 7.6350630891e-07, -2.6240957719e-06, -6.2488545081e-06, -1.0086687476e-05, -1.4109852857e-05, -1.8287085377e-05, -2.2583777896e-05, -2.6962208404e-05, -3.1381811650e-05, -3.5799494072e-05, -4.0169990162e-05, -4.4446257862e-05, -4.8579910017e-05, -5.2521678430e-05, -5.6221906542e-05, -5.9631066274e-05, -6.2700294162e-05, -6.5381941495e-05, -6.7630132812e-05, -6.9401326846e-05, -7.0654873715e-05, -7.1353562034e-05, -7.1464149461e-05, -7.0957870187e-05, -6.9810912891e-05, -6.8004862796e-05, -6.5527101630e-05, -6.2371159588e-05, -5.8537013692e-05, -5.4031327375e-05, -4.8867626603e-05, -4.3066408392e-05, -3.6655178207e-05, -2.9668413403e-05, -2.2147450604e-05, -1.4140295714e-05, -5.7013560503e-06, 3.1089050157e-06, 1.2224389678e-05, 2.1573861426e-05, 3.1081511833e-05, 4.0667594474e-05, 5.0249121134e-05, 5.9740614636e-05, 6.9054911790e-05, 7.8104009194e-05, 8.6799943892e-05, 9.5055700285e-05, 1.0278613406e-04, 1.0990890350e-04, 1.1634539804e-04, 1.2202165378e-04, 1.2686924534e-04, 1.3082614351e-04, 1.3383752813e-04, 1.3585654577e-04, 1.3684500217e-04, 1.3677397976e-04, 1.3562437113e-04, 1.3338731997e-04, 1.3006456185e-04, 1.2566865799e-04, 1.2022311620e-04, 1.1376239437e-04, 1.0633178295e-04, 9.7987164100e-05, 8.8794646614e-05, 7.8830077091e-05, 6.8178429108e-05, 5.6933073764e-05, 4.5194936278e-05, 3.3071544850e-05, 2.0675979360e-05, 8.1257288733e-06, -4.4585317552e-06, -1.6954234655e-05, -2.9238268401e-05, -4.1188370443e-05, -5.2684547827e-05, -6.3610510775e-05, -7.3855103032e-05, -8.3313712401e-05, -9.1889644585e-05, -9.9495443335e-05, -1.0605413994e-04, -1.1150041536e-04, -1.1578165875e-04, -1.1885890672e-04, -1.2070764867e-04, -1.2131848429e-04, -1.2069762091e-04, -1.1886719938e-04, -1.1586543913e-04, -1.1174659448e-04, -1.0658071633e-04, -1.0045321531e-04, -9.3464224592e-05, -8.5727762765e-05, -7.7370699499e-05, -6.8531529009e-05, -5.9358958701e-05, -5.0010322735e-05, -4.0649832552e-05, -3.1446678710e-05, -2.2573000519e-05, -1.4201742099e-05, -6.5044153953e-06, 3.5120750098e-07, 6.2034487662e-06, 1.0899100647e-05, 1.4295796108e-05, 1.6264346877e-05, 1.6691020751e-05, 1.5479729684e-05, 1.2554100054e-05, 7.8593967732e-06, 1.3642734054e-06, -6.9376786660e-06, -1.7026607803e-05, -2.8855330706e-05, -4.2348534519e-05, -5.7402272810e-05, -7.3883773406e-05, -9.1631573362e-05, -1.1045599342e-04, -1.3013996111e-04, -1.5044018834e-04, -1.7108870568e-04, -1.9179475178e-04, -2.1224701281e-04, -2.3211620244e-04, -2.5105796944e-04, -2.6871611549e-04, -2.8472610246e-04, -2.9871882389e-04, -3.1032461238e-04, -3.1917745045e-04, -3.2491934938e-04, -3.2720485744e-04, -3.2570565586e-04, -3.2011519848e-04, -3.1015334908e-04, -2.9557096815e-04, -2.7615439990e-04, -2.5172980928e-04, -2.2216731813e-04, -1.8738489005e-04, -1.4735191357e-04, -1.0209243483e-04, -5.1687991989e-05, 3.7199938582e-06, 6.3928314195e-05, 1.2867059474e-04, 1.9761647936e-04, 2.7037140842e-04, 3.4647701899e-04, 4.2541218973e-04, 5.0659474788e-04, 5.8938384984e-04, 6.7308304156e-04, 7.5694399804e-04, 8.4017093551e-04, 9.2192568285e-04, 1.0013333926e-03, 1.0774888653e-03, 1.1494634532e-03, 1.2163125057e-03, 1.2770833088e-03, 1.3308234672e-03, 1.3765896730e-03, 1.4134567946e-03, 1.4405272208e-03, 1.4569403856e-03, 1.4618823968e-03, 1.4545956891e-03, 1.4343886173e-03, 1.4006449055e-03, 1.3528328641e-03, 1.2905142880e-03, 1.2133529472e-03, 1.1211225846e-03, 1.0137143331e-03, 8.9114347134e-04, 7.5355543687e-04, 6.0123102058e-04, 4.3459067171e-04, 2.5419784686e-04, 6.0761343544e-05, -1.4486343514e-04, -3.6167432999e-04, -5.8852342735e-04, -8.2411924169e-04, -1.0670300995e-03, -1.3156887354e-03, -1.5683981009e-03, -1.8233383777e-03, -2.0785751767e-03, -2.3320688923e-03, -2.5816851749e-03, -2.8252064702e-03, -3.0603445681e-03, -3.2847540902e-03, -3.4960468413e-03, -3.6918069340e-03, -3.8696065959e-03, -4.0270225528e-03, -4.1616528819e-03, -4.2711342164e-03, -4.3531591827e-03, -4.4054939440e-03, -4.4259957199e-03, -4.4126301534e-03, -4.3634883893e-03, -4.2768037321e-03, -4.1509677498e-03, -3.9845456928e-03, -3.7762910988e-03, -3.5251594592e-03, -3.2303208274e-03, -2.8911712552e-03, -2.5073429495e-03, -2.0787130514e-03, -1.6054109473e-03, -1.0878240306e-03, -5.2660184436e-04, 7.7341453020e-05, 7.2282634865e-04, 1.4084089952e-03, 2.1323840137e-03, 2.8927890879e-03, 3.6874113458e-03, 4.5137955113e-03, 5.3692537945e-03, 6.2508774766e-03, 7.1555501312e-03, 8.0799624131e-03, 9.0206283296e-03, 9.9739029013e-03, 1.0936001106e-02, 1.1903017987e-02, 1.2870949804e-02, 1.3835716085e-02, 1.4793182440e-02, 1.5739183989e-02, 1.6669549236e-02, 1.7580124250e-02, 1.8466796963e-02, 1.9325521439e-02, 2.0152341940e-02, 2.0943416620e-02, 2.1695040685e-02, 2.2403668852e-02, 2.3065936961e-02, 2.3678682569e-02, 2.4238964396e-02, 2.4744080481e-02, 2.5191584907e-02, 2.5579302993e-02, 2.5905344835e-02, 2.6168117090e-02, 2.6366332945e-02, 2.6499020161e-02, 2.6565527173e-02, 2.6565527173e-02, 2.6499020161e-02, 2.6366332945e-02, 2.6168117090e-02, 2.5905344835e-02, 2.5579302993e-02, 2.5191584907e-02, 2.4744080481e-02, 2.4238964396e-02, 2.3678682569e-02, 2.3065936961e-02, 2.2403668852e-02, 2.1695040685e-02, 2.0943416620e-02, 2.0152341940e-02, 1.9325521439e-02, 1.8466796963e-02, 1.7580124250e-02, 1.6669549236e-02, 1.5739183989e-02, 1.4793182440e-02, 1.3835716085e-02, 1.2870949804e-02, 1.1903017987e-02, 1.0936001106e-02, 9.9739029013e-03, 9.0206283296e-03, 8.0799624131e-03, 7.1555501312e-03, 6.2508774766e-03, 5.3692537945e-03, 4.5137955113e-03, 3.6874113458e-03, 2.8927890879e-03, 2.1323840137e-03, 1.4084089952e-03, 7.2282634865e-04, 7.7341453020e-05, -5.2660184436e-04, -1.0878240306e-03, -1.6054109473e-03, -2.0787130514e-03, -2.5073429495e-03, -2.8911712552e-03, -3.2303208274e-03, -3.5251594592e-03, -3.7762910988e-03, -3.9845456928e-03, -4.1509677498e-03, -4.2768037321e-03, -4.3634883893e-03, -4.4126301534e-03, -4.4259957199e-03, -4.4054939440e-03, -4.3531591827e-03, -4.2711342164e-03, -4.1616528819e-03, -4.0270225528e-03, -3.8696065959e-03, -3.6918069340e-03, -3.4960468413e-03, -3.2847540902e-03, -3.0603445681e-03, -2.8252064702e-03, -2.5816851749e-03, -2.3320688923e-03, -2.0785751767e-03, -1.8233383777e-03, -1.5683981009e-03, -1.3156887354e-03, -1.0670300995e-03, -8.2411924169e-04, -5.8852342735e-04, -3.6167432999e-04, -1.4486343514e-04, 6.0761343544e-05, 2.5419784686e-04, 4.3459067171e-04, 6.0123102058e-04, 7.5355543687e-04, 8.9114347134e-04, 1.0137143331e-03, 1.1211225846e-03, 1.2133529472e-03, 1.2905142880e-03, 1.3528328641e-03, 1.4006449055e-03, 1.4343886173e-03, 1.4545956891e-03, 1.4618823968e-03, 1.4569403856e-03, 1.4405272208e-03, 1.4134567946e-03, 1.3765896730e-03, 1.3308234672e-03, 1.2770833088e-03, 1.2163125057e-03, 1.1494634532e-03, 1.0774888653e-03, 1.0013333926e-03, 9.2192568285e-04, 8.4017093551e-04, 7.5694399804e-04, 6.7308304156e-04, 5.8938384984e-04, 5.0659474788e-04, 4.2541218973e-04, 3.4647701899e-04, 2.7037140842e-04, 1.9761647936e-04, 1.2867059474e-04, 6.3928314195e-05, 3.7199938582e-06, -5.1687991989e-05, -1.0209243483e-04, -1.4735191357e-04, -1.8738489005e-04, -2.2216731813e-04, -2.5172980928e-04, -2.7615439990e-04, -2.9557096815e-04, -3.1015334908e-04, -3.2011519848e-04, -3.2570565586e-04, -3.2720485744e-04, -3.2491934938e-04, -3.1917745045e-04, -3.1032461238e-04, -2.9871882389e-04, -2.8472610246e-04, -2.6871611549e-04, -2.5105796944e-04, -2.3211620244e-04, -2.1224701281e-04, -1.9179475178e-04, -1.7108870568e-04, -1.5044018834e-04, -1.3013996111e-04, -1.1045599342e-04, -9.1631573362e-05, -7.3883773406e-05, -5.7402272810e-05, -4.2348534519e-05, -2.8855330706e-05, -1.7026607803e-05, -6.9376786660e-06, 1.3642734054e-06, 7.8593967732e-06, 1.2554100054e-05, 1.5479729684e-05, 1.6691020751e-05, 1.6264346877e-05, 1.4295796108e-05, 1.0899100647e-05, 6.2034487662e-06, 3.5120750098e-07, -6.5044153953e-06, -1.4201742099e-05, -2.2573000519e-05, -3.1446678710e-05, -4.0649832552e-05, -5.0010322735e-05, -5.9358958701e-05, -6.8531529009e-05, -7.7370699499e-05, -8.5727762765e-05, -9.3464224592e-05, -1.0045321531e-04, -1.0658071633e-04, -1.1174659448e-04, -1.1586543913e-04, -1.1886719938e-04, -1.2069762091e-04, -1.2131848429e-04, -1.2070764867e-04, -1.1885890672e-04, -1.1578165875e-04, -1.1150041536e-04, -1.0605413994e-04, -9.9495443335e-05, -9.1889644585e-05, -8.3313712401e-05, -7.3855103032e-05, -6.3610510775e-05, -5.2684547827e-05, -4.1188370443e-05, -2.9238268401e-05, -1.6954234655e-05, -4.4585317552e-06, 8.1257288733e-06, 2.0675979360e-05, 3.3071544850e-05, 4.5194936278e-05, 5.6933073764e-05, 6.8178429108e-05, 7.8830077091e-05, 8.8794646614e-05, 9.7987164100e-05, 1.0633178295e-04, 1.1376239437e-04, 1.2022311620e-04, 1.2566865799e-04, 1.3006456185e-04, 1.3338731997e-04, 1.3562437113e-04, 1.3677397976e-04, 1.3684500217e-04, 1.3585654577e-04, 1.3383752813e-04, 1.3082614351e-04, 1.2686924534e-04, 1.2202165378e-04, 1.1634539804e-04, 1.0990890350e-04, 1.0278613406e-04, 9.5055700285e-05, 8.6799943892e-05, 7.8104009194e-05, 6.9054911790e-05, 5.9740614636e-05, 5.0249121134e-05, 4.0667594474e-05, 3.1081511833e-05, 2.1573861426e-05, 1.2224389678e-05, 3.1089050157e-06, -5.7013560503e-06, -1.4140295714e-05, -2.2147450604e-05, -2.9668413403e-05, -3.6655178207e-05, -4.3066408392e-05, -4.8867626603e-05, -5.4031327375e-05, -5.8537013692e-05, -6.2371159588e-05, -6.5527101630e-05, -6.8004862796e-05, -6.9810912891e-05, -7.0957870187e-05, -7.1464149461e-05, -7.1353562034e-05, -7.0654873715e-05, -6.9401326846e-05, -6.7630132812e-05, -6.5381941495e-05, -6.2700294162e-05, -5.9631066274e-05, -5.6221906542e-05, -5.2521678430e-05, -4.8579910017e-05, -4.4446257862e-05, -4.0169990162e-05, -3.5799494072e-05, -3.1381811650e-05, -2.6962208404e-05, -2.2583777896e-05, -1.8287085377e-05, -1.4109852857e-05, -1.0086687476e-05, -6.2488545081e-06, -2.6240957719e-06, 7.6350630891e-07, 3.8936192584e-06, 6.7497064845e-06, 9.3190298319e-06, 1.1592610425e-05, 1.3565149875e-05, 1.5234914303e-05, 1.6603583936e-05, 1.7676071333e-05, 1.8460311534e-05, 1.8967027605e-05, 1.9209475203e-05, 1.9203169893e-05, 1.8965600991e-05, 1.8515935714e-05, 1.7874717387e-05, 1.7063561385e-05, 1.6104852355e-05, 1.5021446129e-05, 1.3836379541e-05, 1.2572591147e-05, 1.1252655607e-05, 9.8985342262e-06, 8.5313438483e-06, 7.1711460306e-06, 5.8367580846e-06, 4.5455872726e-06, 3.3134891205e-06, 2.1546504936e-06, 1.0814977654e-06, 1.0463010362e-07, -7.6722239540e-07, -1.5272162734e-06, -2.1703887919e-06, -2.6936295845e-06, -3.0956311575e-06, -3.3768197153e-06, -3.5392679602e-06, -3.5865916620e-06, -3.5238319147e-06, -3.3573250902e-06, -3.0945625625e-06, -2.7440423186e-06, -2.3151145785e-06, -1.8178235389e-06, -1.2627473117e-06, -6.6083807074e-07, -2.3264333925e-08, 6.3874279225e-07, 1.3140377019e-06, 1.9917011434e-06, 2.6611724198e-06, 3.3123716776e-06, 3.9358111968e-06, 4.5226947708e-06, 5.0650044462e-06, 5.5555740719e-06, 5.9881492925e-06, 6.3574337970e-06, 6.6591218089e-06, 6.8899169725e-06, 7.0475379464e-06, 7.1307111696e-06, 7.1391513965e-06, 7.0735307280e-06, 6.9354369744e-06, 6.7273222820e-06, 6.4524430401e-06, 6.1147921466e-06, 5.7190247651e-06, 5.2703787377e-06, 4.7745908391e-06, 4.2378100594e-06, 3.6665090930e-06, 3.0673951871e-06, 2.4473214626e-06, 1.8131997731e-06, 1.1719161057e-06, 5.3024945391e-07, -1.0520498256e-07, -7.2810750670e-07, -1.3324398685e-06, -1.9125648688e-06, -2.4632791492e-06, -2.9798587931e-06, -3.4580974711e-06, -3.8943369612e-06, -4.2854899774e-06, -4.6290553358e-06, -4.9231255797e-06, -5.1663872742e-06, -5.3581142599e-06, -5.4981542305e-06, -5.5869090670e-06, -5.6253094176e-06, -5.6147840662e-06, -5.5572246687e-06, -5.4549464756e-06, -5.3106456767e-06, -5.1273540235e-06, -4.9083913879e-06, -4.6573169136e-06, -4.3778794099e-06, -4.0739676135e-06, -3.7495609242e-06, -3.4086811865e-06, -3.0553460519e-06, -2.6935244141e-06, -2.3270943647e-06, -1.9598040633e-06, -1.5952358658e-06, -1.2367739979e-06, -8.8757600555e-07, -5.5054815637e-07, -2.2832491072e-07, 7.6747475520e-08, 3.6262320741e-07, 6.2756510963e-07, 8.7014877882e-07, 1.0892628669e-06, 1.2841056739e-06, 1.4541782669e-06, 1.5992743742e-06, 1.7194673338e-06, 1.8150943962e-06, 1.8867387042e-06, 1.9352092825e-06, 1.9615193811e-06, 1.9668635208e-06, 1.9525935870e-06, 1.9201943142e-06, 1.8712584962e-06, 1.8074622400e-06, 1.7305405697e-06, 1.6422636642e-06, 1.5444139913e-06, 1.4387645756e-06, 1.3270586133e-06, 1.2109906146e-06, 1.0921892320e-06, 9.7220189568e-07, 8.5248135465e-07, 7.3437418709e-07, 6.1911131812e-07, 5.0780055343e-07, 4.0142111114e-07, 3.0082010894e-07, 2.0671094052e-07, 1.1967345374e-07, 4.0155824245e-08, -3.1521998405e-08, -9.5163409297e-08, -1.5068897995e-07, -1.9812916099e-07, -2.3761601956e-07, -2.6937417944e-07, -2.9371113275e-07, -3.1100709153e-07, -3.2170454392e-07, -3.2629767448e-07, -3.2532180081e-07, -3.1934296990e-07, -3.0894784686e-07, -2.9473401721e-07, -2.7730081109e-07, -2.5724074395e-07, -2.3513165443e-07, -2.1152960516e-07, -1.8696259810e-07, -1.6192514079e-07, -1.3687368619e-07, -1.1222295444e-07, -8.8343132082e-08, -6.5557931595e-08, -4.4143482806e-08, -2.4328017293e-08, -6.2922976469e-09, 9.8292645898e-09, 2.3946865196e-08, 3.6013006137e-08, 4.6019709490e-08, 5.3995321744e-08, 6.0000985295e-08, 6.4126854274e-08, 6.6488130959e-08, 6.7220997028e-08, 6.6478510946e-08, 6.4426538826e-08, 6.1239781454e-08, 5.7097954686e-08, 5.2182174508e-08, 4.6671591588e-08, 4.0740313387e-08, 3.4554644949e-08, 2.8270672406e-08, 2.2032206221e-08, 1.5969094293e-08, 1.0195908361e-08, 4.8110008357e-09, -1.0407677321e-10, -4.4848080991e-09, -8.2836180146e-09, -1.1469474085e-08, -1.4027210574e-08, -1.5956605232e-08}
  COEFFICIENT_WIDTH 24
  QUANTIZATION Quantize_Only
  BESTPRECISION true
  FILTER_TYPE Decimation
  RATE_CHANGE_TYPE Fixed_Fractional
  INTERPOLATION_RATE 24
  DECIMATION_RATE 25
  NUMBER_CHANNELS 16
  NUMBER_PATHS 1
  SAMPLE_FREQUENCY 0.4
  CLOCK_FREQUENCY 100
  OUTPUT_ROUNDING_MODE Convergent_Rounding_to_Even
  OUTPUT_WIDTH 25
  HAS_ARESETN true
} {
  S_AXIS_DATA conv_0/M_AXIS
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create axis_subset_converter
cell xilinx.com:ip:axis_subset_converter subset_0 {
  S_TDATA_NUM_BYTES.VALUE_SRC USER
  M_TDATA_NUM_BYTES.VALUE_SRC USER
  S_TDATA_NUM_BYTES 4
  M_TDATA_NUM_BYTES 3
  TDATA_REMAP {tdata[23:0]}
} {
  S_AXIS fir_0/M_AXIS_DATA
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create fir_compiler
cell xilinx.com:ip:fir_compiler fir_1 {
  DATA_WIDTH.VALUE_SRC USER
  DATA_WIDTH 24
  COEFFICIENTVECTOR {-1.5350267278e-08, -3.6842336127e-08, 3.5271805438e-09, 2.4226734686e-08, 8.1568639805e-09, 2.5160826178e-08, 4.5865460815e-09, -1.1781864694e-07, -7.8740983678e-08, 2.4308037864e-07, 2.5862500480e-07, -3.6478652852e-07, -5.8516761199e-07, 4.1635782828e-07, 1.0802283716e-06, -3.0274472039e-07, -1.7288442298e-06, -8.8894015984e-08, 2.4628471219e-06, 8.6849785864e-07, -3.1511841166e-06, -2.1139908801e-06, 3.6020427725e-06, 3.8378392379e-06, -3.5808968083e-06, -5.9560905305e-06, 2.8459334751e-06, 8.2684030744e-06, -1.1986195149e-06, -1.0457919973e-05, -1.4573983919e-06, 1.2117952650e-05, 5.0600444740e-06, -1.2808520521e-05, -9.3494666503e-06, 1.2139171545e-05, 1.3859044749e-05, -9.8704811386e-06, -1.7953422891e-05, 6.0106802307e-06, 2.0912121707e-05, -8.9295831130e-07, -2.2063165258e-05, -4.7969805138e-06, 2.0948108276e-05, 1.0061939493e-05, -1.7493885436e-05, -1.3716280253e-05, 1.2156034840e-05, 1.4589796277e-05, -5.9941873912e-06, -1.1794395102e-05, 6.4295768461e-07, 5.0167382440e-06, 1.8470205955e-06, 5.2152826415e-06, 6.9562904411e-07, -1.7354343768e-05, -1.0151979293e-05, 2.8801788555e-05, 2.7626158189e-05, -3.6086418550e-05, -5.2984850903e-05, 3.5237736651e-05, 8.4468598799e-05, -2.2389983363e-05, -1.1851996698e-04, -5.4779702191e-06, 1.4988803990e-04, 4.9750965782e-05, -1.7207108823e-04, -1.0947114319e-04, 1.7810062910e-04, 1.8086665181e-04, -1.6161048737e-04, -2.5726042026e-04, 1.1806701731e-04, 3.2946774320e-04, -4.5979581043e-05, -3.8673057044e-04, -5.2130267191e-05, 4.1814962539e-04, 1.6922657446e-04, -4.1449239156e-04, -2.9395785010e-04, 3.7007523038e-04, 4.1156410663e-04, -2.8458569187e-04, -5.0572195175e-04, 1.6427392024e-04, 5.6100084473e-04, -2.2347524563e-05, -5.6578644233e-04, -1.2176586431e-04, 5.1524371880e-04, 2.4441454164e-04, -4.1383636431e-04, -3.2094292696e-04, 2.7687811818e-04, 3.2989307683e-04, -1.3063613408e-04, -2.5774033808e-04, 1.0627412635e-05, 1.0353473318e-04, 4.2045681033e-05, 1.1729367704e-04, 1.3775008463e-05, -3.7078731450e-04, -2.1245175462e-04, 6.0436962292e-04, 5.7357365742e-04, -7.5000953886e-04, -1.0946442880e-03, 7.2991825804e-04, 1.7446398977e-03, -4.6531163069e-04, -2.4600091090e-03, -1.1260723815e-04, 3.1439349514e-03, 1.0503271754e-03, -3.6695560242e-03, -2.3595967475e-03, 3.8874278985e-03, 4.0062591567e-03, -3.6370222712e-03, -5.9017142789e-03, 2.7615370903e-03, 7.8981281505e-03, -1.1248085887e-03, -9.7880446585e-03, -1.3713106431e-03, 1.1308068344e-02, 4.7700951462e-03, -1.2147215145e-02, -9.0480864045e-03, 1.1953586924e-02, 1.4104698847e-02, -1.0340135261e-02, -1.9758684933e-02, 6.8774632466e-03, 2.5747648646e-02, -1.0593838759e-03, -3.1726848930e-02, -7.7944200058e-03, 3.7253397387e-02, 2.0790713206e-02, -4.1710049573e-02, -4.0157229243e-02, 4.3979822077e-02, 7.1506302596e-02, -4.0782341123e-02, -1.3385507610e-01, 1.2640805156e-02, 3.3825575973e-01, 5.1190275093e-01, 3.3825575973e-01, 1.2640805156e-02, -1.3385507610e-01, -4.0782341123e-02, 7.1506302596e-02, 4.3979822077e-02, -4.0157229243e-02, -4.1710049573e-02, 2.0790713206e-02, 3.7253397387e-02, -7.7944200058e-03, -3.1726848930e-02, -1.0593838759e-03, 2.5747648646e-02, 6.8774632466e-03, -1.9758684933e-02, -1.0340135261e-02, 1.4104698847e-02, 1.1953586924e-02, -9.0480864045e-03, -1.2147215145e-02, 4.7700951462e-03, 1.1308068344e-02, -1.3713106431e-03, -9.7880446585e-03, -1.1248085887e-03, 7.8981281505e-03, 2.7615370903e-03, -5.9017142789e-03, -3.6370222712e-03, 4.0062591567e-03, 3.8874278985e-03, -2.3595967475e-03, -3.6695560242e-03, 1.0503271754e-03, 3.1439349514e-03, -1.1260723815e-04, -2.4600091090e-03, -4.6531163069e-04, 1.7446398977e-03, 7.2991825804e-04, -1.0946442880e-03, -7.5000953886e-04, 5.7357365742e-04, 6.0436962292e-04, -2.1245175462e-04, -3.7078731450e-04, 1.3775008463e-05, 1.1729367704e-04, 4.2045681033e-05, 1.0353473318e-04, 1.0627412635e-05, -2.5774033808e-04, -1.3063613408e-04, 3.2989307683e-04, 2.7687811818e-04, -3.2094292696e-04, -4.1383636431e-04, 2.4441454164e-04, 5.1524371880e-04, -1.2176586431e-04, -5.6578644233e-04, -2.2347524563e-05, 5.6100084473e-04, 1.6427392024e-04, -5.0572195175e-04, -2.8458569187e-04, 4.1156410663e-04, 3.7007523038e-04, -2.9395785010e-04, -4.1449239156e-04, 1.6922657446e-04, 4.1814962539e-04, -5.2130267191e-05, -3.8673057044e-04, -4.5979581043e-05, 3.2946774320e-04, 1.1806701731e-04, -2.5726042026e-04, -1.6161048737e-04, 1.8086665181e-04, 1.7810062910e-04, -1.0947114319e-04, -1.7207108823e-04, 4.9750965782e-05, 1.4988803990e-04, -5.4779702191e-06, -1.1851996698e-04, -2.2389983363e-05, 8.4468598799e-05, 3.5237736651e-05, -5.2984850903e-05, -3.6086418550e-05, 2.7626158189e-05, 2.8801788555e-05, -1.0151979293e-05, -1.7354343768e-05, 6.9562904411e-07, 5.2152826415e-06, 1.8470205955e-06, 5.0167382440e-06, 6.4295768461e-07, -1.1794395102e-05, -5.9941873912e-06, 1.4589796277e-05, 1.2156034840e-05, -1.3716280253e-05, -1.7493885436e-05, 1.0061939493e-05, 2.0948108276e-05, -4.7969805138e-06, -2.2063165258e-05, -8.9295831130e-07, 2.0912121707e-05, 6.0106802307e-06, -1.7953422891e-05, -9.8704811386e-06, 1.3859044749e-05, 1.2139171545e-05, -9.3494666503e-06, -1.2808520521e-05, 5.0600444740e-06, 1.2117952650e-05, -1.4573983919e-06, -1.0457919973e-05, -1.1986195149e-06, 8.2684030744e-06, 2.8459334751e-06, -5.9560905305e-06, -3.5808968083e-06, 3.8378392379e-06, 3.6020427725e-06, -2.1139908801e-06, -3.1511841166e-06, 8.6849785864e-07, 2.4628471219e-06, -8.8894015984e-08, -1.7288442298e-06, -3.0274472039e-07, 1.0802283716e-06, 4.1635782828e-07, -5.8516761199e-07, -3.6478652852e-07, 2.5862500480e-07, 2.4308037864e-07, -7.8740983678e-08, -1.1781864694e-07, 4.5865460815e-09, 2.5160826178e-08, 8.1568639805e-09, 2.4226734686e-08, 3.5271805438e-09, -3.6842336127e-08, -1.5350267278e-08}
  COEFFICIENT_WIDTH 24
  QUANTIZATION Quantize_Only
  BESTPRECISION true
  FILTER_TYPE Decimation
  DECIMATION_RATE 2
  NUMBER_CHANNELS 16
  NUMBER_PATHS 1
  SAMPLE_FREQUENCY 0.384
  CLOCK_FREQUENCY 100
  OUTPUT_ROUNDING_MODE Convergent_Rounding_to_Even
  OUTPUT_WIDTH 26
  HAS_ARESETN true
} {
  S_AXIS_DATA subset_0/M_AXIS
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create axis_dwidth_converter
cell xilinx.com:ip:axis_dwidth_converter conv_1 {
  S_TDATA_NUM_BYTES.VALUE_SRC USER
  S_TDATA_NUM_BYTES 4
  M_TDATA_NUM_BYTES 64
} {
  S_AXIS fir_1/M_AXIS_DATA
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create axis_broadcaster
cell xilinx.com:ip:axis_broadcaster bcast_8 {
  S_TDATA_NUM_BYTES.VALUE_SRC USER
  M_TDATA_NUM_BYTES.VALUE_SRC USER
  S_TDATA_NUM_BYTES 64
  M_TDATA_NUM_BYTES 8
  NUM_MI 8
  M00_TDATA_REMAP {tdata[23:16],tdata[39:32],tdata[47:40],tdata[55:48],16'b0000000000000000,tdata[7:0],tdata[15:8]}
  M01_TDATA_REMAP {tdata[87:80],tdata[103:96],tdata[111:104],tdata[119:112],16'b0000000000000000,tdata[71:64],tdata[79:72]}
  M02_TDATA_REMAP {tdata[151:144],tdata[167:160],tdata[175:168],tdata[183:176],16'b0000000000000000,tdata[135:128],tdata[143:136]}
  M03_TDATA_REMAP {tdata[215:208],tdata[231:224],tdata[239:232],tdata[247:240],16'b0000000000000000,tdata[199:192],tdata[207:200]}
  M04_TDATA_REMAP {tdata[279:272],tdata[295:288],tdata[303:296],tdata[311:304],16'b0000000000000000,tdata[263:256],tdata[271:264]}
  M05_TDATA_REMAP {tdata[343:336],tdata[359:352],tdata[367:360],tdata[375:368],16'b0000000000000000,tdata[327:320],tdata[335:328]}
  M06_TDATA_REMAP {tdata[407:400],tdata[423:416],tdata[431:424],tdata[439:432],16'b0000000000000000,tdata[391:384],tdata[399:392]}
  M07_TDATA_REMAP {tdata[471:464],tdata[487:480],tdata[495:488],tdata[503:496],16'b0000000000000000,tdata[455:448],tdata[463:456]}
} {
  S_AXIS conv_1/M_AXIS
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

for {set i 0} {$i <= 7} {incr i} {

  # Create fifo_generator
  cell xilinx.com:ip:fifo_generator fifo_generator_$i {
    PERFORMANCE_OPTIONS First_Word_Fall_Through
    INPUT_DATA_WIDTH 64
    INPUT_DEPTH 512
    OUTPUT_DATA_WIDTH 32
    OUTPUT_DEPTH 1024
    READ_DATA_COUNT true
    READ_DATA_COUNT_WIDTH 11
  } {
    clk /pll_0/clk_out1
    srst slice_0/dout
  }

  # Create axis_fifo
  cell pavel-demin:user:axis_fifo fifo_$i {
    S_AXIS_TDATA_WIDTH 64
    M_AXIS_TDATA_WIDTH 32
  } {
    S_AXIS bcast_8/M0${i}_AXIS
    FIFO_READ fifo_generator_$i/FIFO_READ
    FIFO_WRITE fifo_generator_$i/FIFO_WRITE
    aclk /pll_0/clk_out1
  }

  # Create axi_axis_reader
  cell pavel-demin:user:axi_axis_reader reader_$i {
    AXI_DATA_WIDTH 32
  } {
    S_AXIS fifo_$i/M_AXIS
    aclk /pll_0/clk_out1
    aresetn /rst_0/peripheral_aresetn
  }

}
