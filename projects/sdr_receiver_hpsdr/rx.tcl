# Create port_slicer
cell pavel-demin:user:port_slicer slice_0 {
  DIN_WIDTH 8 DIN_FROM 0 DIN_TO 0
}

# Create port_slicer
cell pavel-demin:user:port_slicer slice_1 {
  DIN_WIDTH 288 DIN_FROM 15 DIN_TO 0
}

for {set i 0} {$i <= 7} {incr i} {

  # Create port_slicer
  cell pavel-demin:user:port_slicer slice_[expr $i + 2] {
    DIN_WIDTH 288 DIN_FROM [expr $i + 16] DIN_TO [expr $i + 16]
  }

  # Create port_selector
  cell pavel-demin:user:port_selector selector_$i {
    DOUT_WIDTH 16
  } {
    cfg slice_[expr $i + 2]/dout
    din /adc_0/m_axis_tdata
  }

  # Create port_slicer
  cell pavel-demin:user:port_slicer slice_[expr $i + 10] {
    DIN_WIDTH 288 DIN_FROM [expr 32 * $i + 63] DIN_TO [expr 32 * $i + 32]
  }

  # Create axis_constant
  cell pavel-demin:user:axis_constant phase_$i {
    AXIS_TDATA_WIDTH 32
  } {
    cfg_data slice_[expr $i + 10]/dout
    aclk /pll_0/clk_out1
  }

  # Create dds_compiler
  cell xilinx.com:ip:dds_compiler dds_$i {
    DDS_CLOCK_RATE 100
    SPURIOUS_FREE_DYNAMIC_RANGE 138
    FREQUENCY_RESOLUTION 0.1
    PHASE_INCREMENT Streaming
    HAS_PHASE_OUT false
    PHASE_WIDTH 30
    OUTPUT_WIDTH 24
    DSP48_USE Minimal
    NEGATIVE_SINE true
  } {
    S_AXIS_PHASE phase_$i/M_AXIS
    aclk /pll_0/clk_out1
  }

}

# Create axis_lfsr
cell pavel-demin:user:axis_lfsr lfsr_0 {} {
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create xlconstant
cell xilinx.com:ip:xlconstant const_0

for {set i 0} {$i <= 15} {incr i} {

  # Create port_slicer
  cell pavel-demin:user:port_slicer dds_slice_$i {
    DIN_WIDTH 48 DIN_FROM [expr 24 * ($i % 2) + 23] DIN_TO [expr 24 * ($i % 2)]
  } {
    din dds_[expr $i / 2]/m_axis_data_tdata
  }

  # Create xbip_dsp48_macro
  cell xilinx.com:ip:xbip_dsp48_macro mult_$i {
    INSTRUCTION1 RNDSIMPLE(A*B+CARRYIN)
    A_WIDTH.VALUE_SRC USER
    B_WIDTH.VALUE_SRC USER
    OUTPUT_PROPERTIES User_Defined
    A_WIDTH 24
    B_WIDTH 14
    P_WIDTH 25
  } {
    A dds_slice_$i/dout
    B selector_[expr $i / 2]/dout
    CARRYIN lfsr_0/m_axis_tdata
    CLK /pll_0/clk_out1
  }

  # Create axis_variable
  cell pavel-demin:user:axis_variable rate_$i {
    AXIS_TDATA_WIDTH 16
  } {
    cfg_data slice_1/dout
    aclk /pll_0/clk_out1
    aresetn /rst_0/peripheral_aresetn
  }

  # Create cic_compiler
  cell xilinx.com:ip:cic_compiler cic_$i {
    INPUT_DATA_WIDTH.VALUE_SRC USER
    FILTER_TYPE Decimation
    NUMBER_OF_STAGES 6
    SAMPLE_RATE_CHANGES Programmable
    MINIMUM_RATE 250
    MAXIMUM_RATE 2000
    FIXED_OR_INITIAL_RATE 500
    INPUT_SAMPLE_FREQUENCY 100
    CLOCK_FREQUENCY 100
    INPUT_DATA_WIDTH 24
    QUANTIZATION Truncation
    OUTPUT_DATA_WIDTH 32
    USE_XTREME_DSP_SLICE false
    HAS_ARESETN true
  } {
    s_axis_data_tdata mult_$i/P
    s_axis_data_tvalid const_0/dout
    S_AXIS_CONFIG rate_$i/M_AXIS
    aclk /pll_0/clk_out1
    aresetn /rst_0/peripheral_aresetn
  }

}

# Create axis_combiner
cell  xilinx.com:ip:axis_combiner comb_0 {
  TDATA_NUM_BYTES.VALUE_SRC USER
  TDATA_NUM_BYTES 4
  NUM_SI 16
} {
  S00_AXIS cic_0/M_AXIS_DATA
  S01_AXIS cic_1/M_AXIS_DATA
  S02_AXIS cic_2/M_AXIS_DATA
  S03_AXIS cic_3/M_AXIS_DATA
  S04_AXIS cic_4/M_AXIS_DATA
  S05_AXIS cic_5/M_AXIS_DATA
  S06_AXIS cic_6/M_AXIS_DATA
  S07_AXIS cic_7/M_AXIS_DATA
  S08_AXIS cic_8/M_AXIS_DATA
  S09_AXIS cic_9/M_AXIS_DATA
  S10_AXIS cic_10/M_AXIS_DATA
  S11_AXIS cic_11/M_AXIS_DATA
  S12_AXIS cic_12/M_AXIS_DATA
  S13_AXIS cic_13/M_AXIS_DATA
  S14_AXIS cic_14/M_AXIS_DATA
  S15_AXIS cic_15/M_AXIS_DATA
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create axis_dwidth_converter
cell xilinx.com:ip:axis_dwidth_converter conv_0 {
  S_TDATA_NUM_BYTES.VALUE_SRC USER
  S_TDATA_NUM_BYTES 64
  M_TDATA_NUM_BYTES 4
} {
  S_AXIS comb_0/M_AXIS
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create fir_compiler
cell xilinx.com:ip:fir_compiler fir_0 {
  DATA_WIDTH.VALUE_SRC USER
  DATA_WIDTH 32
  COEFFICIENTVECTOR {7.2289637437e-09, 7.1208740723e-09, 6.9059061520e-09, 6.5916632477e-09, 6.1900307954e-09, 5.7173066316e-09, 5.1942482701e-09, 4.6460296429e-09, 4.1021007716e-09, 3.5959450719e-09, 3.1647303912e-09, 2.8488514431e-09, 2.6913630031e-09, 2.7373050594e-09, 3.0329230414e-09, 3.6247882595e-09, 4.5588257497e-09, 5.8792588039e-09, 7.6274815390e-09, 9.8408728988e-09, 1.2551567437e-08, 1.5785200085e-08, 1.9559643817e-08, 2.3883760634e-08, 2.8756187627e-08, 3.4164180915e-08, 4.0082541057e-08, 4.6472644015e-08, 5.3281601867e-08, 6.0441577289e-08, 6.7869275206e-08, 7.5465634064e-08, 8.3115737766e-08, 9.0688967573e-08, 9.8039411057e-08, 1.0500654265e-07, 1.1141618733e-07, 1.1708177579e-07, 1.2180589556e-07, 1.2538213885e-07, 1.2759724355e-07, 1.2823351925e-07, 1.2707154589e-07, 1.2389312747e-07, 1.1848447884e-07, 1.1063961867e-07, 1.0016393688e-07, 8.6877900508e-08, 7.0620857371e-08, 5.1254893074e-08, 2.8668692975e-08, 2.7813576358e-09, -2.6453882590e-08, -5.9046110362e-08, -9.4963379639e-08, -1.3412964847e-07, -1.7642204544e-07, -2.2166852832e-07, -2.6964599203e-07, -3.2007888080e-07, -3.7263835619e-07, -4.2694206875e-07, -4.8255457624e-07, -5.3898844548e-07, -5.9570606879e-07, -6.5212221828e-07, -7.0760735354e-07, -7.6149168962e-07, -8.1307002303e-07, -8.6160730356e-07, -9.0634493009e-07, -9.4650773783e-07, -9.8131163416e-07, -1.0099718297e-06, -1.0317116005e-06, -1.0457715084e-06, -1.0514189936e-06, -1.0479582497e-06, -1.0347402759e-06, -1.0111730004e-06, -9.7673135660e-07, -9.3096719087e-07, -8.7351887642e-07, -8.0412050239e-07, -7.2261050790e-07, -6.2893962940e-07, -5.2317803132e-07, -4.0552149321e-07, -2.7629653136e-07, -1.3596433934e-07, 1.4876559720e-08, 1.7548904633e-07, 3.4499760887e-07, 5.2239009108e-07, 7.0652104031e-07, 8.9611669767e-07, 1.0897816540e-06, 1.2860071764e-06, 1.4831811921e-06, 1.6795998924e-06, 1.8734809052e-06, 2.0629779548e-06, 2.2461969157e-06, 2.4212131381e-06, 2.5860899078e-06, 2.7388978819e-06, 2.8777353207e-06, 3.0007489225e-06, 3.1061550501e-06, 3.1922611232e-06, 3.2574869403e-06, 3.3003856844e-06, 3.3196643572e-06, 3.3142033850e-06, 3.2830751369e-06, 3.2255610962e-06, 3.1411674335e-06, 3.0296387355e-06, 2.8909696554e-06, 2.7254142661e-06, 2.5334929145e-06, 2.3159963970e-06, 2.0739872979e-06, 1.8087983634e-06, 1.5220278100e-06, 1.2155314992e-06, 8.9141194595e-07, 5.5200416150e-07, 1.9985837262e-07, -1.6228030608e-07, -5.3149512793e-07, -9.0472374112e-07, -1.2787867902e-06, -1.6504188573e-06, -2.0163014697e-06, -2.3730978682e-06, -2.7174891919e-06, -3.0462117100e-06, -3.3560947011e-06, -3.6440985551e-06, -3.9073526580e-06, -4.1431925993e-06, -4.3491962353e-06, -4.5232181354e-06, -4.6634219373e-06, -4.7683101466e-06, -4.8367509240e-06, -4.8680014252e-06, -4.8617272786e-06, -4.8180178197e-06, -4.7373967333e-06, -4.6208277967e-06, -4.4697154661e-06, -4.2859000955e-06, -4.0716476374e-06, -3.8296337339e-06, -3.5629221686e-06, -3.2749377204e-06, -2.9694335252e-06, -2.6504531254e-06, -2.3222874569e-06, -1.9894270947e-06, -1.6565101491e-06, -1.3282662724e-06, -1.0094573041e-06, -7.0481514012e-07, -4.1897747686e-07, -1.5642212571e-07, 7.8599353862e-08, 2.8212791819e-07, 4.5056238300e-07, 5.8072300612e-07, 6.6991245418e-07, 7.1597329355e-07, 7.1734115062e-07, 6.7309270194e-07, 5.8298768100e-07, 4.4750412469e-07, 2.6786613003e-07, 4.6063449708e-08, -2.1513767692e-07, -5.1219298268e-07, -8.4078835887e-07, -1.1958581104e-06, -1.5716135167e-06, -1.9615818244e-06, -2.3586556799e-06, -2.7551528866e-06, -3.1428862477e-06, -3.5132431243e-06, -3.8572742100e-06, -4.1657908937e-06, -4.4294704545e-06, -4.6389682097e-06, -4.7850356158e-06, -4.8586432127e-06, -4.8511071938e-06, -4.7542182940e-06, -4.5603715999e-06, -4.2626958184e-06, -3.8551804811e-06, -3.3327995209e-06, -2.6916296292e-06, -1.9289617944e-06, -1.0434044307e-06, -3.4976531812e-08, 1.0948106680e-06, 2.3428849811e-06, 3.7045588717e-06, 5.1734906475e-06, 6.7416623854e-06, 8.3993756008e-06, 1.0135265514e-05, 1.1936334597e-05, 1.3788005898e-05, 1.5674196442e-05, 1.7577410804e-05, 1.9478854707e-05, 2.1358568321e-05, 2.3195578646e-05, 2.4968070175e-05, 2.6653572789e-05, 2.8229165581e-05, 2.9671695126e-05, 3.0958006439e-05, 3.2065184710e-05, 3.2970805669e-05, 3.3653192283e-05, 3.4091675309e-05, 3.4266855096e-05, 3.4160861911e-05, 3.3757611972e-05, 3.3043056305e-05, 3.2005419515e-05, 3.0635425541e-05, 2.8926507501e-05, 2.6874998798e-05, 2.4480302727e-05, 2.1745037972e-05, 1.8675157516e-05, 1.5280038698e-05, 1.1572542347e-05, 7.5690391896e-06, 3.2894020068e-06, -1.2430377006e-06, -6.0015694225e-06, -1.0956220281e-05, -1.6073908785e-05, -2.1318635492e-05, -2.6651709992e-05, -3.2032013204e-05, -3.7416293600e-05, -4.2759495548e-05, -4.8015117563e-05, -5.3135597901e-05, -5.8072724507e-05, -6.2778066013e-05, -6.7203420136e-05, -7.1301275503e-05, -7.5025282706e-05, -7.8330730077e-05, -8.1175019563e-05, -8.3518137836e-05, -8.5323117743e-05, -8.6556485080e-05, -8.7188685684e-05, -8.7194487903e-05, -8.6553355538e-05, -8.5249786578e-05, -8.3273613172e-05, -8.0620258612e-05, -7.7290947360e-05, -7.3292864531e-05, -6.8639261681e-05, -6.3349506151e-05, -5.7449071777e-05, -5.0969469276e-05, -4.3948115214e-05, -3.6428139057e-05, -2.8458128433e-05, -2.0091813387e-05, -1.1387691065e-05, -2.4085929234e-06, 6.7788027739e-06, 1.6104509750e-05, 2.5495819758e-05, 3.4877931199e-05, 4.4174615062e-05, 5.3308912399e-05, 6.2203857019e-05, 7.0783216668e-05, 7.8972245530e-05, 8.6698440593e-05, 9.3892294133e-05, 1.0048803439e-04, 1.0642434641e-04, 1.1164506499e-04, 1.1609983169e-04, 1.1974470812e-04, 1.2254273778e-04, 1.2446444922e-04, 1.2548829350e-04, 1.2560100974e-04, 1.2479791257e-04, 1.2308309669e-04, 1.2046955375e-04, 1.1697919805e-04, 1.1264279817e-04, 1.0749981277e-04, 1.0159812942e-04, 9.4993706745e-05, 8.7750120923e-05, 7.9938018635e-05, 7.1634479838e-05, 6.2922294560e-05, 5.3889159105e-05, 4.4626798051e-05, 3.5230019395e-05, 2.5795711178e-05, 1.6421788775e-05, 7.2061028941e-06, -1.7546809798e-06, -1.0366220285e-05, -1.8537638271e-05, -2.6182659697e-05, -3.3220726626e-05, -3.9578081411e-05, -4.5188803914e-05, -4.9995790041e-05, -5.3951658910e-05, -5.7019576307e-05, -5.9173982566e-05, -6.0401213658e-05, -6.0700005022e-05, -6.0081868598e-05, -5.8571334535e-05, -5.6206050226e-05, -5.3036730586e-05, -4.9126954861e-05, -4.4552806768e-05, -3.9402356270e-05, -3.3774982984e-05, -2.7780542845e-05, -2.1538381429e-05, -1.5176199041e-05, -8.8287744712e-06, -2.6365560280e-06, 3.2558697891e-06, 8.7014199755e-06, 1.3552253448e-05, 1.7661591077e-05, 2.0885600782e-05, 2.3085329849e-05, 2.4128665460e-05, 2.3892303451e-05, 2.2263704449e-05, 1.9143015900e-05, 1.4444938045e-05, 8.1005116438e-06, 5.8805210319e-08, -9.7115202834e-06, -2.1220790874e-05, -3.4457064231e-05, -4.9385059542e-05, -6.5945291665e-05, -8.4053427214e-05, -1.0359987865e-04, -1.2444965077e-04, -1.4644245182e-04, -1.6939307954e-04, -1.9309208993e-04, -2.1730675394e-04, -2.4178230496e-04, -2.6624347685e-04, -2.9039632964e-04, -3.1393035694e-04, -3.3652086630e-04, -3.5783162048e-04, -3.7751772490e-04, -3.9522874335e-04, -4.1061202128e-04, -4.2331619320e-04, -4.3299484786e-04, -4.3931032271e-04, -4.4193759645e-04, -4.4056824656e-04, -4.3491443691e-04, -4.2471289848e-04, -4.0972886554e-04, -3.8975992805e-04, -3.6463976052e-04, -3.3424168735e-04, -2.9848204449e-04, -2.5732329755e-04, -2.1077687748e-04, -1.5890569576e-04, -1.0182630280e-04, -3.9710654824e-05, 2.7212543011e-05, 9.8656946956e-05, 1.7427816535e-04, 2.5367385309e-04, 3.3638432971e-04, 4.2189373725e-04, 5.0963174951e-04, 5.9897584038e-04, 6.8925411388e-04, 7.7974869418e-04, 8.6969966852e-04, 9.5830957155e-04, 1.0447483938e-03, 1.1281590930e-03, 1.2076635801e-03, 1.2823691498e-03, 1.3513753173e-03, 1.4137810211e-03, 1.4686921448e-03, 1.5152293092e-03, 1.5525358804e-03, 1.5797861356e-03, 1.5961935276e-03, 1.6010189835e-03, 1.5935791725e-03, 1.5732546748e-03, 1.5394979844e-03, 1.4918412738e-03, 1.4299038534e-03, 1.3533992548e-03, 1.2621418691e-03, 1.1560530754e-03, 1.0351667914e-03, 8.9963438723e-04, 7.4972890069e-04, 5.8584850084e-04, 4.0851914771e-04, 2.1839640278e-04, 1.6266349453e-05, -1.9695441136e-04, -4.2021971920e-04, -6.5235578758e-04, -8.9206412818e-04, -1.1379254737e-03, -1.3884046999e-03, -1.6418567394e-03, -1.8965334729e-03, -2.1505915753e-03, -2.4021012851e-03, -2.6490560608e-03, -2.8893830777e-03, -3.1209545116e-03, -3.3415995507e-03, -3.5491170669e-03, -3.7412888751e-03, -3.9158934998e-03, -4.0707203638e-03, -4.2035843113e-03, -4.3123403685e-03, -4.3948986460e-03, -4.4492392802e-03, -4.4734273123e-03, -4.4656273984e-03, -4.4241182451e-03, -4.3473066658e-03, -4.2337411519e-03, -4.0821248543e-03, -3.8913278767e-03, -3.6603987791e-03, -3.3885752003e-03, -3.0752935082e-03, -2.7201973940e-03, -2.3231453330e-03, -1.8842168398e-03, -1.4037174545e-03, -8.8218240504e-04, -3.2037889602e-04, 2.8069301195e-04, 9.1980096287e-04, 1.5954823247e-03, 2.3060476771e-03, 3.0495857660e-03, 3.8239699157e-03, 4.6268658749e-03, 5.4557410668e-03, 6.3078752011e-03, 7.1803721953e-03, 8.0701733461e-03, 8.9740716776e-03, 9.8887273891e-03, 1.0810684313e-02, 1.1736387288e-02, 1.2662200343e-02, 1.3584425586e-02, 1.4499322679e-02, 1.5403128774e-02, 1.6292078806e-02, 1.7162425980e-02, 1.8010462360e-02, 1.8832539404e-02, 1.9625088312e-02, 2.0384640078e-02, 2.1107845082e-02, 2.1791492125e-02, 2.2432526763e-02, 2.3028068821e-02, 2.3575428980e-02, 2.4072124317e-02, 2.4515892698e-02, 2.4904705936e-02, 2.5236781603e-02, 2.5510593446e-02, 2.5724880318e-02, 2.5878653565e-02, 2.5971202830e-02, 2.6002100222e-02, 2.5971202830e-02, 2.5878653565e-02, 2.5724880318e-02, 2.5510593446e-02, 2.5236781603e-02, 2.4904705936e-02, 2.4515892698e-02, 2.4072124317e-02, 2.3575428980e-02, 2.3028068821e-02, 2.2432526763e-02, 2.1791492125e-02, 2.1107845082e-02, 2.0384640078e-02, 1.9625088312e-02, 1.8832539404e-02, 1.8010462360e-02, 1.7162425980e-02, 1.6292078806e-02, 1.5403128774e-02, 1.4499322679e-02, 1.3584425586e-02, 1.2662200343e-02, 1.1736387288e-02, 1.0810684313e-02, 9.8887273891e-03, 8.9740716776e-03, 8.0701733461e-03, 7.1803721953e-03, 6.3078752011e-03, 5.4557410668e-03, 4.6268658749e-03, 3.8239699157e-03, 3.0495857660e-03, 2.3060476771e-03, 1.5954823247e-03, 9.1980096287e-04, 2.8069301195e-04, -3.2037889602e-04, -8.8218240504e-04, -1.4037174545e-03, -1.8842168398e-03, -2.3231453330e-03, -2.7201973940e-03, -3.0752935082e-03, -3.3885752003e-03, -3.6603987791e-03, -3.8913278767e-03, -4.0821248543e-03, -4.2337411519e-03, -4.3473066658e-03, -4.4241182451e-03, -4.4656273984e-03, -4.4734273123e-03, -4.4492392802e-03, -4.3948986460e-03, -4.3123403685e-03, -4.2035843113e-03, -4.0707203638e-03, -3.9158934998e-03, -3.7412888751e-03, -3.5491170669e-03, -3.3415995507e-03, -3.1209545116e-03, -2.8893830777e-03, -2.6490560608e-03, -2.4021012851e-03, -2.1505915753e-03, -1.8965334729e-03, -1.6418567394e-03, -1.3884046999e-03, -1.1379254737e-03, -8.9206412818e-04, -6.5235578758e-04, -4.2021971920e-04, -1.9695441136e-04, 1.6266349453e-05, 2.1839640278e-04, 4.0851914771e-04, 5.8584850084e-04, 7.4972890069e-04, 8.9963438723e-04, 1.0351667914e-03, 1.1560530754e-03, 1.2621418691e-03, 1.3533992548e-03, 1.4299038534e-03, 1.4918412738e-03, 1.5394979844e-03, 1.5732546748e-03, 1.5935791725e-03, 1.6010189835e-03, 1.5961935276e-03, 1.5797861356e-03, 1.5525358804e-03, 1.5152293092e-03, 1.4686921448e-03, 1.4137810211e-03, 1.3513753173e-03, 1.2823691498e-03, 1.2076635801e-03, 1.1281590930e-03, 1.0447483938e-03, 9.5830957155e-04, 8.6969966852e-04, 7.7974869418e-04, 6.8925411388e-04, 5.9897584038e-04, 5.0963174951e-04, 4.2189373725e-04, 3.3638432971e-04, 2.5367385309e-04, 1.7427816535e-04, 9.8656946956e-05, 2.7212543011e-05, -3.9710654824e-05, -1.0182630280e-04, -1.5890569576e-04, -2.1077687748e-04, -2.5732329755e-04, -2.9848204449e-04, -3.3424168735e-04, -3.6463976052e-04, -3.8975992805e-04, -4.0972886554e-04, -4.2471289848e-04, -4.3491443691e-04, -4.4056824656e-04, -4.4193759645e-04, -4.3931032271e-04, -4.3299484786e-04, -4.2331619320e-04, -4.1061202128e-04, -3.9522874335e-04, -3.7751772490e-04, -3.5783162048e-04, -3.3652086630e-04, -3.1393035694e-04, -2.9039632964e-04, -2.6624347685e-04, -2.4178230496e-04, -2.1730675394e-04, -1.9309208993e-04, -1.6939307954e-04, -1.4644245182e-04, -1.2444965077e-04, -1.0359987865e-04, -8.4053427214e-05, -6.5945291665e-05, -4.9385059542e-05, -3.4457064231e-05, -2.1220790874e-05, -9.7115202834e-06, 5.8805210318e-08, 8.1005116438e-06, 1.4444938045e-05, 1.9143015900e-05, 2.2263704449e-05, 2.3892303451e-05, 2.4128665460e-05, 2.3085329849e-05, 2.0885600782e-05, 1.7661591077e-05, 1.3552253448e-05, 8.7014199755e-06, 3.2558697891e-06, -2.6365560280e-06, -8.8287744712e-06, -1.5176199041e-05, -2.1538381429e-05, -2.7780542845e-05, -3.3774982984e-05, -3.9402356270e-05, -4.4552806768e-05, -4.9126954861e-05, -5.3036730586e-05, -5.6206050226e-05, -5.8571334535e-05, -6.0081868598e-05, -6.0700005022e-05, -6.0401213658e-05, -5.9173982566e-05, -5.7019576307e-05, -5.3951658910e-05, -4.9995790041e-05, -4.5188803914e-05, -3.9578081411e-05, -3.3220726626e-05, -2.6182659697e-05, -1.8537638271e-05, -1.0366220285e-05, -1.7546809798e-06, 7.2061028941e-06, 1.6421788775e-05, 2.5795711178e-05, 3.5230019395e-05, 4.4626798051e-05, 5.3889159105e-05, 6.2922294560e-05, 7.1634479838e-05, 7.9938018635e-05, 8.7750120923e-05, 9.4993706745e-05, 1.0159812942e-04, 1.0749981277e-04, 1.1264279817e-04, 1.1697919805e-04, 1.2046955375e-04, 1.2308309669e-04, 1.2479791257e-04, 1.2560100974e-04, 1.2548829350e-04, 1.2446444922e-04, 1.2254273778e-04, 1.1974470812e-04, 1.1609983169e-04, 1.1164506499e-04, 1.0642434641e-04, 1.0048803439e-04, 9.3892294133e-05, 8.6698440593e-05, 7.8972245530e-05, 7.0783216668e-05, 6.2203857019e-05, 5.3308912399e-05, 4.4174615062e-05, 3.4877931199e-05, 2.5495819758e-05, 1.6104509750e-05, 6.7788027739e-06, -2.4085929234e-06, -1.1387691065e-05, -2.0091813387e-05, -2.8458128433e-05, -3.6428139057e-05, -4.3948115214e-05, -5.0969469276e-05, -5.7449071777e-05, -6.3349506151e-05, -6.8639261681e-05, -7.3292864531e-05, -7.7290947360e-05, -8.0620258612e-05, -8.3273613172e-05, -8.5249786578e-05, -8.6553355538e-05, -8.7194487903e-05, -8.7188685684e-05, -8.6556485080e-05, -8.5323117743e-05, -8.3518137836e-05, -8.1175019563e-05, -7.8330730077e-05, -7.5025282706e-05, -7.1301275503e-05, -6.7203420136e-05, -6.2778066013e-05, -5.8072724507e-05, -5.3135597901e-05, -4.8015117563e-05, -4.2759495548e-05, -3.7416293600e-05, -3.2032013204e-05, -2.6651709992e-05, -2.1318635492e-05, -1.6073908785e-05, -1.0956220281e-05, -6.0015694225e-06, -1.2430377006e-06, 3.2894020068e-06, 7.5690391896e-06, 1.1572542347e-05, 1.5280038698e-05, 1.8675157516e-05, 2.1745037972e-05, 2.4480302727e-05, 2.6874998798e-05, 2.8926507501e-05, 3.0635425541e-05, 3.2005419515e-05, 3.3043056305e-05, 3.3757611972e-05, 3.4160861911e-05, 3.4266855096e-05, 3.4091675309e-05, 3.3653192283e-05, 3.2970805669e-05, 3.2065184710e-05, 3.0958006439e-05, 2.9671695126e-05, 2.8229165581e-05, 2.6653572789e-05, 2.4968070175e-05, 2.3195578646e-05, 2.1358568321e-05, 1.9478854707e-05, 1.7577410804e-05, 1.5674196442e-05, 1.3788005898e-05, 1.1936334597e-05, 1.0135265514e-05, 8.3993756008e-06, 6.7416623854e-06, 5.1734906475e-06, 3.7045588717e-06, 2.3428849811e-06, 1.0948106680e-06, -3.4976531812e-08, -1.0434044307e-06, -1.9289617944e-06, -2.6916296292e-06, -3.3327995209e-06, -3.8551804811e-06, -4.2626958184e-06, -4.5603715999e-06, -4.7542182940e-06, -4.8511071938e-06, -4.8586432127e-06, -4.7850356158e-06, -4.6389682097e-06, -4.4294704545e-06, -4.1657908937e-06, -3.8572742100e-06, -3.5132431243e-06, -3.1428862477e-06, -2.7551528866e-06, -2.3586556799e-06, -1.9615818244e-06, -1.5716135167e-06, -1.1958581104e-06, -8.4078835887e-07, -5.1219298268e-07, -2.1513767692e-07, 4.6063449708e-08, 2.6786613003e-07, 4.4750412469e-07, 5.8298768100e-07, 6.7309270194e-07, 7.1734115062e-07, 7.1597329355e-07, 6.6991245418e-07, 5.8072300612e-07, 4.5056238300e-07, 2.8212791819e-07, 7.8599353862e-08, -1.5642212571e-07, -4.1897747686e-07, -7.0481514012e-07, -1.0094573041e-06, -1.3282662724e-06, -1.6565101491e-06, -1.9894270947e-06, -2.3222874569e-06, -2.6504531254e-06, -2.9694335252e-06, -3.2749377204e-06, -3.5629221686e-06, -3.8296337339e-06, -4.0716476374e-06, -4.2859000955e-06, -4.4697154661e-06, -4.6208277967e-06, -4.7373967333e-06, -4.8180178197e-06, -4.8617272786e-06, -4.8680014252e-06, -4.8367509240e-06, -4.7683101466e-06, -4.6634219373e-06, -4.5232181354e-06, -4.3491962353e-06, -4.1431925993e-06, -3.9073526580e-06, -3.6440985551e-06, -3.3560947011e-06, -3.0462117100e-06, -2.7174891919e-06, -2.3730978682e-06, -2.0163014697e-06, -1.6504188573e-06, -1.2787867902e-06, -9.0472374112e-07, -5.3149512793e-07, -1.6228030608e-07, 1.9985837262e-07, 5.5200416150e-07, 8.9141194595e-07, 1.2155314992e-06, 1.5220278100e-06, 1.8087983634e-06, 2.0739872979e-06, 2.3159963970e-06, 2.5334929145e-06, 2.7254142661e-06, 2.8909696554e-06, 3.0296387355e-06, 3.1411674335e-06, 3.2255610962e-06, 3.2830751369e-06, 3.3142033850e-06, 3.3196643572e-06, 3.3003856844e-06, 3.2574869403e-06, 3.1922611232e-06, 3.1061550501e-06, 3.0007489225e-06, 2.8777353207e-06, 2.7388978819e-06, 2.5860899078e-06, 2.4212131381e-06, 2.2461969157e-06, 2.0629779548e-06, 1.8734809052e-06, 1.6795998924e-06, 1.4831811921e-06, 1.2860071764e-06, 1.0897816540e-06, 8.9611669767e-07, 7.0652104031e-07, 5.2239009108e-07, 3.4499760887e-07, 1.7548904633e-07, 1.4876559720e-08, -1.3596433934e-07, -2.7629653136e-07, -4.0552149321e-07, -5.2317803132e-07, -6.2893962940e-07, -7.2261050790e-07, -8.0412050239e-07, -8.7351887642e-07, -9.3096719087e-07, -9.7673135660e-07, -1.0111730004e-06, -1.0347402759e-06, -1.0479582497e-06, -1.0514189936e-06, -1.0457715084e-06, -1.0317116005e-06, -1.0099718297e-06, -9.8131163416e-07, -9.4650773783e-07, -9.0634493009e-07, -8.6160730356e-07, -8.1307002303e-07, -7.6149168962e-07, -7.0760735354e-07, -6.5212221828e-07, -5.9570606879e-07, -5.3898844548e-07, -4.8255457624e-07, -4.2694206875e-07, -3.7263835619e-07, -3.2007888080e-07, -2.6964599203e-07, -2.2166852832e-07, -1.7642204544e-07, -1.3412964847e-07, -9.4963379639e-08, -5.9046110362e-08, -2.6453882590e-08, 2.7813576358e-09, 2.8668692975e-08, 5.1254893074e-08, 7.0620857371e-08, 8.6877900508e-08, 1.0016393688e-07, 1.1063961867e-07, 1.1848447884e-07, 1.2389312747e-07, 1.2707154589e-07, 1.2823351925e-07, 1.2759724355e-07, 1.2538213885e-07, 1.2180589556e-07, 1.1708177579e-07, 1.1141618733e-07, 1.0500654265e-07, 9.8039411057e-08, 9.0688967573e-08, 8.3115737766e-08, 7.5465634064e-08, 6.7869275206e-08, 6.0441577289e-08, 5.3281601867e-08, 4.6472644015e-08, 4.0082541057e-08, 3.4164180915e-08, 2.8756187627e-08, 2.3883760634e-08, 1.9559643817e-08, 1.5785200085e-08, 1.2551567437e-08, 9.8408728988e-09, 7.6274815390e-09, 5.8792588039e-09, 4.5588257497e-09, 3.6247882595e-09, 3.0329230414e-09, 2.7373050594e-09, 2.6913630031e-09, 2.8488514431e-09, 3.1647303912e-09, 3.5959450719e-09, 4.1021007716e-09, 4.6460296429e-09, 5.1942482701e-09, 5.7173066316e-09, 6.1900307954e-09, 6.5916632477e-09, 6.9059061520e-09, 7.1208740723e-09, 7.2289637437e-09}
  COEFFICIENT_WIDTH 24
  QUANTIZATION Quantize_Only
  BESTPRECISION true
  FILTER_TYPE Decimation
  RATE_CHANGE_TYPE Fixed_Fractional
  INTERPOLATION_RATE 24
  DECIMATION_RATE 25
  NUMBER_CHANNELS 16
  NUMBER_PATHS 1
  SAMPLE_FREQUENCY 0.4
  CLOCK_FREQUENCY 100
  OUTPUT_ROUNDING_MODE Convergent_Rounding_to_Even
  OUTPUT_WIDTH 25
  HAS_ARESETN true
} {
  S_AXIS_DATA conv_0/M_AXIS
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create axis_subset_converter
cell xilinx.com:ip:axis_subset_converter subset_0 {
  S_TDATA_NUM_BYTES.VALUE_SRC USER
  M_TDATA_NUM_BYTES.VALUE_SRC USER
  S_TDATA_NUM_BYTES 4
  M_TDATA_NUM_BYTES 3
  TDATA_REMAP {tdata[23:0]}
} {
  S_AXIS fir_0/M_AXIS_DATA
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create fir_compiler
cell xilinx.com:ip:fir_compiler fir_1 {
  DATA_WIDTH.VALUE_SRC USER
  DATA_WIDTH 24
  COEFFICIENTVECTOR {-1.5350267278e-08, -3.6842336127e-08, 3.5271805438e-09, 2.4226734686e-08, 8.1568639805e-09, 2.5160826178e-08, 4.5865460815e-09, -1.1781864694e-07, -7.8740983678e-08, 2.4308037864e-07, 2.5862500480e-07, -3.6478652852e-07, -5.8516761199e-07, 4.1635782828e-07, 1.0802283716e-06, -3.0274472039e-07, -1.7288442298e-06, -8.8894015984e-08, 2.4628471219e-06, 8.6849785864e-07, -3.1511841166e-06, -2.1139908801e-06, 3.6020427725e-06, 3.8378392379e-06, -3.5808968083e-06, -5.9560905305e-06, 2.8459334751e-06, 8.2684030744e-06, -1.1986195149e-06, -1.0457919973e-05, -1.4573983919e-06, 1.2117952650e-05, 5.0600444740e-06, -1.2808520521e-05, -9.3494666503e-06, 1.2139171545e-05, 1.3859044749e-05, -9.8704811386e-06, -1.7953422891e-05, 6.0106802307e-06, 2.0912121707e-05, -8.9295831130e-07, -2.2063165258e-05, -4.7969805138e-06, 2.0948108276e-05, 1.0061939493e-05, -1.7493885436e-05, -1.3716280253e-05, 1.2156034840e-05, 1.4589796277e-05, -5.9941873912e-06, -1.1794395102e-05, 6.4295768461e-07, 5.0167382440e-06, 1.8470205955e-06, 5.2152826415e-06, 6.9562904411e-07, -1.7354343768e-05, -1.0151979293e-05, 2.8801788555e-05, 2.7626158189e-05, -3.6086418550e-05, -5.2984850903e-05, 3.5237736651e-05, 8.4468598799e-05, -2.2389983363e-05, -1.1851996698e-04, -5.4779702191e-06, 1.4988803990e-04, 4.9750965782e-05, -1.7207108823e-04, -1.0947114319e-04, 1.7810062910e-04, 1.8086665181e-04, -1.6161048737e-04, -2.5726042026e-04, 1.1806701731e-04, 3.2946774320e-04, -4.5979581043e-05, -3.8673057044e-04, -5.2130267191e-05, 4.1814962539e-04, 1.6922657446e-04, -4.1449239156e-04, -2.9395785010e-04, 3.7007523038e-04, 4.1156410663e-04, -2.8458569187e-04, -5.0572195175e-04, 1.6427392024e-04, 5.6100084473e-04, -2.2347524563e-05, -5.6578644233e-04, -1.2176586431e-04, 5.1524371880e-04, 2.4441454164e-04, -4.1383636431e-04, -3.2094292696e-04, 2.7687811818e-04, 3.2989307683e-04, -1.3063613408e-04, -2.5774033808e-04, 1.0627412635e-05, 1.0353473318e-04, 4.2045681033e-05, 1.1729367704e-04, 1.3775008463e-05, -3.7078731450e-04, -2.1245175462e-04, 6.0436962292e-04, 5.7357365742e-04, -7.5000953886e-04, -1.0946442880e-03, 7.2991825804e-04, 1.7446398977e-03, -4.6531163069e-04, -2.4600091090e-03, -1.1260723815e-04, 3.1439349514e-03, 1.0503271754e-03, -3.6695560242e-03, -2.3595967475e-03, 3.8874278985e-03, 4.0062591567e-03, -3.6370222712e-03, -5.9017142789e-03, 2.7615370903e-03, 7.8981281505e-03, -1.1248085887e-03, -9.7880446585e-03, -1.3713106431e-03, 1.1308068344e-02, 4.7700951462e-03, -1.2147215145e-02, -9.0480864045e-03, 1.1953586924e-02, 1.4104698847e-02, -1.0340135261e-02, -1.9758684933e-02, 6.8774632466e-03, 2.5747648646e-02, -1.0593838759e-03, -3.1726848930e-02, -7.7944200058e-03, 3.7253397387e-02, 2.0790713206e-02, -4.1710049573e-02, -4.0157229243e-02, 4.3979822077e-02, 7.1506302596e-02, -4.0782341123e-02, -1.3385507610e-01, 1.2640805156e-02, 3.3825575973e-01, 5.1190275093e-01, 3.3825575973e-01, 1.2640805156e-02, -1.3385507610e-01, -4.0782341123e-02, 7.1506302596e-02, 4.3979822077e-02, -4.0157229243e-02, -4.1710049573e-02, 2.0790713206e-02, 3.7253397387e-02, -7.7944200058e-03, -3.1726848930e-02, -1.0593838759e-03, 2.5747648646e-02, 6.8774632466e-03, -1.9758684933e-02, -1.0340135261e-02, 1.4104698847e-02, 1.1953586924e-02, -9.0480864045e-03, -1.2147215145e-02, 4.7700951462e-03, 1.1308068344e-02, -1.3713106431e-03, -9.7880446585e-03, -1.1248085887e-03, 7.8981281505e-03, 2.7615370903e-03, -5.9017142789e-03, -3.6370222712e-03, 4.0062591567e-03, 3.8874278985e-03, -2.3595967475e-03, -3.6695560242e-03, 1.0503271754e-03, 3.1439349514e-03, -1.1260723815e-04, -2.4600091090e-03, -4.6531163069e-04, 1.7446398977e-03, 7.2991825804e-04, -1.0946442880e-03, -7.5000953886e-04, 5.7357365742e-04, 6.0436962292e-04, -2.1245175462e-04, -3.7078731450e-04, 1.3775008463e-05, 1.1729367704e-04, 4.2045681033e-05, 1.0353473318e-04, 1.0627412635e-05, -2.5774033808e-04, -1.3063613408e-04, 3.2989307683e-04, 2.7687811818e-04, -3.2094292696e-04, -4.1383636431e-04, 2.4441454164e-04, 5.1524371880e-04, -1.2176586431e-04, -5.6578644233e-04, -2.2347524563e-05, 5.6100084473e-04, 1.6427392024e-04, -5.0572195175e-04, -2.8458569187e-04, 4.1156410663e-04, 3.7007523038e-04, -2.9395785010e-04, -4.1449239156e-04, 1.6922657446e-04, 4.1814962539e-04, -5.2130267191e-05, -3.8673057044e-04, -4.5979581043e-05, 3.2946774320e-04, 1.1806701731e-04, -2.5726042026e-04, -1.6161048737e-04, 1.8086665181e-04, 1.7810062910e-04, -1.0947114319e-04, -1.7207108823e-04, 4.9750965782e-05, 1.4988803990e-04, -5.4779702191e-06, -1.1851996698e-04, -2.2389983363e-05, 8.4468598799e-05, 3.5237736651e-05, -5.2984850903e-05, -3.6086418550e-05, 2.7626158189e-05, 2.8801788555e-05, -1.0151979293e-05, -1.7354343768e-05, 6.9562904411e-07, 5.2152826415e-06, 1.8470205955e-06, 5.0167382440e-06, 6.4295768461e-07, -1.1794395102e-05, -5.9941873912e-06, 1.4589796277e-05, 1.2156034840e-05, -1.3716280253e-05, -1.7493885436e-05, 1.0061939493e-05, 2.0948108276e-05, -4.7969805138e-06, -2.2063165258e-05, -8.9295831130e-07, 2.0912121707e-05, 6.0106802307e-06, -1.7953422891e-05, -9.8704811386e-06, 1.3859044749e-05, 1.2139171545e-05, -9.3494666503e-06, -1.2808520521e-05, 5.0600444740e-06, 1.2117952650e-05, -1.4573983919e-06, -1.0457919973e-05, -1.1986195149e-06, 8.2684030744e-06, 2.8459334751e-06, -5.9560905305e-06, -3.5808968083e-06, 3.8378392379e-06, 3.6020427725e-06, -2.1139908801e-06, -3.1511841166e-06, 8.6849785864e-07, 2.4628471219e-06, -8.8894015984e-08, -1.7288442298e-06, -3.0274472039e-07, 1.0802283716e-06, 4.1635782828e-07, -5.8516761199e-07, -3.6478652852e-07, 2.5862500480e-07, 2.4308037864e-07, -7.8740983678e-08, -1.1781864694e-07, 4.5865460815e-09, 2.5160826178e-08, 8.1568639805e-09, 2.4226734686e-08, 3.5271805438e-09, -3.6842336127e-08, -1.5350267278e-08}
  COEFFICIENT_WIDTH 24
  QUANTIZATION Quantize_Only
  BESTPRECISION true
  FILTER_TYPE Decimation
  DECIMATION_RATE 2
  NUMBER_CHANNELS 16
  NUMBER_PATHS 1
  SAMPLE_FREQUENCY 0.384
  CLOCK_FREQUENCY 100
  OUTPUT_ROUNDING_MODE Convergent_Rounding_to_Even
  OUTPUT_WIDTH 26
  HAS_ARESETN true
} {
  S_AXIS_DATA subset_0/M_AXIS
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create axis_dwidth_converter
cell xilinx.com:ip:axis_dwidth_converter conv_1 {
  S_TDATA_NUM_BYTES.VALUE_SRC USER
  S_TDATA_NUM_BYTES 4
  M_TDATA_NUM_BYTES 64
} {
  S_AXIS fir_1/M_AXIS_DATA
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

# Create axis_broadcaster
cell xilinx.com:ip:axis_broadcaster bcast_8 {
  S_TDATA_NUM_BYTES.VALUE_SRC USER
  M_TDATA_NUM_BYTES.VALUE_SRC USER
  S_TDATA_NUM_BYTES 64
  M_TDATA_NUM_BYTES 8
  NUM_MI 8
  M00_TDATA_REMAP {tdata[23:16],tdata[39:32],tdata[47:40],tdata[55:48],16'b0000000000000000,tdata[7:0],tdata[15:8]}
  M01_TDATA_REMAP {tdata[87:80],tdata[103:96],tdata[111:104],tdata[119:112],16'b0000000000000000,tdata[71:64],tdata[79:72]}
  M02_TDATA_REMAP {tdata[151:144],tdata[167:160],tdata[175:168],tdata[183:176],16'b0000000000000000,tdata[135:128],tdata[143:136]}
  M03_TDATA_REMAP {tdata[215:208],tdata[231:224],tdata[239:232],tdata[247:240],16'b0000000000000000,tdata[199:192],tdata[207:200]}
  M04_TDATA_REMAP {tdata[279:272],tdata[295:288],tdata[303:296],tdata[311:304],16'b0000000000000000,tdata[263:256],tdata[271:264]}
  M05_TDATA_REMAP {tdata[343:336],tdata[359:352],tdata[367:360],tdata[375:368],16'b0000000000000000,tdata[327:320],tdata[335:328]}
  M06_TDATA_REMAP {tdata[407:400],tdata[423:416],tdata[431:424],tdata[439:432],16'b0000000000000000,tdata[391:384],tdata[399:392]}
  M07_TDATA_REMAP {tdata[471:464],tdata[487:480],tdata[495:488],tdata[503:496],16'b0000000000000000,tdata[455:448],tdata[463:456]}
} {
  S_AXIS conv_1/M_AXIS
  aclk /pll_0/clk_out1
  aresetn /rst_0/peripheral_aresetn
}

for {set i 0} {$i <= 7} {incr i} {

  # Create fifo_generator
  cell xilinx.com:ip:fifo_generator fifo_generator_$i {
    PERFORMANCE_OPTIONS First_Word_Fall_Through
    INPUT_DATA_WIDTH 64
    INPUT_DEPTH 512
    OUTPUT_DATA_WIDTH 32
    OUTPUT_DEPTH 1024
    READ_DATA_COUNT true
    READ_DATA_COUNT_WIDTH 11
  } {
    clk /pll_0/clk_out1
    srst slice_0/dout
  }

  # Create axis_fifo
  cell pavel-demin:user:axis_fifo fifo_$i {
    S_AXIS_TDATA_WIDTH 64
    M_AXIS_TDATA_WIDTH 32
  } {
    S_AXIS bcast_8/M0${i}_AXIS
    FIFO_READ fifo_generator_$i/FIFO_READ
    FIFO_WRITE fifo_generator_$i/FIFO_WRITE
    aclk /pll_0/clk_out1
  }

  # Create axi_axis_reader
  cell pavel-demin:user:axi_axis_reader reader_$i {
    AXI_DATA_WIDTH 32
  } {
    S_AXIS fifo_$i/M_AXIS
    aclk /pll_0/clk_out1
    aresetn /rst_0/peripheral_aresetn
  }

}
